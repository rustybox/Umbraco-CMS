@model dynamic
@using Umbraco.Web.Composing
@using Umbraco.Web.Templates
@{
    var htmlLocalLinkParser = Current.Factory.GetRequiredService<HtmlLocalLinkParser>();
    var htmlUrlParser = Current.Factory.GetRequiredService<HtmlUrlParser>();
    var htmlImageSourceParser = Current.Factory.GetRequiredService<HtmlImageSourceParser>();

    var value = htmlUrlParser.EnsureUrls(Model.value.ToString());
    value = htmlImageSourceParser.EnsureImageSources(value);
    value = htmlLocalLinkParser.EnsureInternalLinks(value);
}
@Html.Raw(value)
